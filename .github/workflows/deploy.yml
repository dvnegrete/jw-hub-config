name: "Deploy to GitHub Pages"
description: "Deploy the project to GitHub Pages"

on:
  push:
    branches:
      - main

jobs: 
    build:
        runs-on: ubuntu-latest

        steps:
        -   name: ğŸ“¥ Checkout del cÃ³digo
            uses: actions/checkout@v4
            with:
                fetch-depth: 0

        -   name: âš™ï¸ Configurar Node.js
            uses: actions/setup-node@v4
            with:
                node-version: 22
                cache: "npm"

        -   name: ğŸ“¦ Instalar dependencias
            run: npm install

        -   name: ğŸŒ Configurar variables de entorno
            run: echo "VITE_PASS=${{ vars.VITE_PASS }}" >> $GITHUB_ENV

        -   name: ğŸ”¨ Construir la aplicaciÃ³n
            run: npm run build
        -   name: ğŸ“‚ Mostrar contenido del build
            run: ls -la dist

        -   name: ğŸš€ Desplegar en GitHub Pages
            uses: jamesives/github-pages-deploy-action@v4
            with:
                branch: gh-pages
                folder: dist
                clean: true
                token: ${{ secrets.GITHUB_TOKEN }}